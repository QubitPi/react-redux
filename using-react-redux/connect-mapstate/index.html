<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-using-react-redux/connect-mapstate">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Connect: Extracting Data with mapStateToProps | React Redux</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://react-redux.qubitpi.org/img/redux-logo-landscape.png"><meta data-rh="true" name="twitter:image" content="https://react-redux.qubitpi.org/img/redux-logo-landscape.png"><meta data-rh="true" property="og:url" content="https://react-redux.qubitpi.org/using-react-redux/connect-mapstate"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Connect: Extracting Data with mapStateToProps | React Redux"><meta data-rh="true" name="description" content="Usage &gt; mapState: options for reading state with connect"><meta data-rh="true" property="og:description" content="Usage &gt; mapState: options for reading state with connect"><link data-rh="true" rel="icon" href="/img/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="https://react-redux.qubitpi.org/using-react-redux/connect-mapstate"><link data-rh="true" rel="alternate" href="https://react-redux.qubitpi.org/using-react-redux/connect-mapstate" hreflang="en"><link data-rh="true" rel="alternate" href="https://react-redux.qubitpi.org/using-react-redux/connect-mapstate" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https:// -dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="React Redux" href="/opensearch.xml">
<link rel="preconnect" href="https://redux-docs-umami.up.railway.app">
<script async defer="defer" src="https://redux-docs-umami.up.railway.app/script.js" data-website-id="e81a2686-96f3-4557-9c03-f584b7e8ab6b" data-auto-track data-do-not-track data-cache></script>
<script src="/scripts/sidebarScroll.js"></script>
<script src="/scripts/codeblock.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js" async></script><link rel="stylesheet" href="/assets/css/styles.b200bc5f.css">
<link rel="preload" href="/assets/js/runtime~main.5fc46a49.js" as="script">
<link rel="preload" href="/assets/js/main.03270078.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY">      
      <a href="https://redux.dev">
        <img src="/img/course-callout-wide.svg" alt="Redux.dev - a new course by Mark Erikson + ui.dev - Learn more" style="margin-top: 5px;">
      </a>
      </div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">React Redux</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/introduction/getting-started">Getting Started</a><a class="navbar__item navbar__link" href="/tutorials/quick-start">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/using-react-redux/connect-mapstate">Using React Redux</a><a class="navbar__item navbar__link" href="/api/hooks">API</a><a href="https://www.github.com/reduxjs/react-redux" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/introduction/getting-started#help-and-discussion">Need help?</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/introduction/getting-started">Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/introduction/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/introduction/why-use-react-redux">Why Use React Redux?</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/tutorials/quick-start">Tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/typescript-quick-start">TypeScript Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/connect">Tutorial: Connect API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/using-react-redux/usage-with-typescript">Using React Redux</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/using-react-redux/usage-with-typescript">Usage with TypeScript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/using-react-redux/connect-mapstate">Connect: Extracting Data with mapStateToProps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/using-react-redux/connect-mapdispatch">Connect: Dispatching Actions with mapDispatchToProps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/using-react-redux/accessing-store">Accessing the Store</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/api/provider">API Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/troubleshooting">Guides</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Using React Redux</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Connect: Extracting Data with mapStateToProps</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Connect: Extracting Data with <code>mapStateToProps</code></h1><p>As the first argument passed in to <code>connect</code>, <code>mapStateToProps</code> is used for selecting the part of the data from the store that the connected component needs. It’s frequently referred to as just <code>mapState</code> for short.</p><ul><li>It is called every time the store state changes.</li><li>It receives the entire store state, and should return an object of data this component needs.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="defining-mapstatetoprops">Defining <code>mapStateToProps</code><a href="#defining-mapstatetoprops" class="hash-link" aria-label="Direct link to defining-mapstatetoprops" title="Direct link to defining-mapstatetoprops">​</a></h2><p><code>mapStateToProps</code> should be defined as a function:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> ownProps</span><span class="token parameter operator" style="color:#F8F8F2">?</span><span class="token punctuation" style="color:#F8F8F2">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It should take a first argument called <code>state</code>, optionally a second argument called <code>ownProps</code>, and return a plain object containing the data that the connected component needs.</p><p>This function should be passed as the first argument to <code>connect</code>, and will be called every time when the Redux store state changes. If you do not wish to subscribe to the store, pass <code>null</code> or <code>undefined</code> to <code>connect</code> in place of <code>mapStateToProps</code>.</p><p><strong>It does not matter if a <code>mapStateToProps</code> function is written using the <code>function</code> keyword (<code>function mapState(state) { }</code> ) or as an arrow function (<code>const mapState = (state) =&gt; { }</code> )</strong> - it will work the same either way.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="arguments">Arguments<a href="#arguments" class="hash-link" aria-label="Direct link to Arguments" title="Direct link to Arguments">​</a></h3><ol><li><strong><code>state</code></strong></li><li><strong><code>ownProps</code> (optional)</strong></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="state"><code>state</code><a href="#state" class="hash-link" aria-label="Direct link to state" title="Direct link to state">​</a></h4><p>The first argument to a <code>mapStateToProps</code> function is the entire Redux store state (the same value returned by a call to <code>store.getState()</code>). Because of this, the first argument is traditionally just called <code>state</code>. (While you can give the argument any name you want, calling it <code>store</code> would be incorrect - it&#x27;s the &quot;state value&quot;, not the &quot;store instance&quot;.)</p><p>The <code>mapStateToProps</code> function should always be written with at least <code>state</code> passed in.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">// TodoList.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> todos </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> state</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#F92672">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#F92672">todoList</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> todos</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">allIds</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword module" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#F92672">default</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">connect</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token maybe-class-name">TodoList</span><span class="token punctuation" style="color:#F8F8F2">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ownprops-optional"><code>ownProps</code> (optional)<a href="#ownprops-optional" class="hash-link" aria-label="Direct link to ownprops-optional" title="Direct link to ownprops-optional">​</a></h4><p>You may define the function with a second argument, <code>ownProps</code>, if your component needs the data from its own props to retrieve data from the store. This argument will contain all of the props given to the wrapper component that was generated by <code>connect</code>.</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">// Todo.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">state</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> ownProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> visibilityFilter </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> state</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#778090">// ownProps would look like { &quot;id&quot; : 123 }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> id </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> ownProps</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> todo </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">getTodoById</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">state</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> id</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#778090">// component receives additionally:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> todo</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> visibilityFilter </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// Later, in your application, a parent component renders:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token plain">ConnectedTodo id</span><span class="token operator" style="color:#F8F8F2">=</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token number" style="color:#AE81FF">123</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">/</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// and your component receives props.id, props.todo, and props.visibilityFilter</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You do not need to include values from <code>ownProps</code> in the object returned from <code>mapStateToProps</code>. <code>connect</code> will automatically merge those different prop sources into a final set of props.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="return">Return<a href="#return" class="hash-link" aria-label="Direct link to Return" title="Direct link to Return">​</a></h3><p>Your <code>mapStateToProps</code> function should return a plain object that contains the data the component needs:</p><ul><li>Each field in the object will become a prop for your actual component</li><li>The values in the fields will be used to determine if your component needs to re-render</li></ul><p>For example:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#F92672">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token literal-property property" style="color:#F92672">a</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token number" style="color:#AE81FF">42</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token literal-property property" style="color:#F92672">todos</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">todos</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token literal-property property" style="color:#F92672">filter</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">visibilityFilter</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// component will receive: props.a, props.todos, and props.filter</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Note: In advanced scenarios where you need more control over the rendering performance, <code>mapStateToProps</code> can also return a function. In this case, that function will be used as the final <code>mapStateToProps</code> for a particular component instance. This allows you to do per-instance memoization. See the <a href="/api/connect">Advanced Usage: Factory Functions</a> section of the docs for more details, as well as <a href="https://github.com/reduxjs/react-redux/pull/279" target="_blank" rel="noopener noreferrer">PR #279</a> and the tests it adds. Most apps never need this.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage-guidelines">Usage Guidelines<a href="#usage-guidelines" class="hash-link" aria-label="Direct link to Usage Guidelines" title="Direct link to Usage Guidelines">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="let-mapstatetoprops-reshape-the-data-from-the-store">Let <code>mapStateToProps</code> Reshape the Data from the Store<a href="#let-mapstatetoprops-reshape-the-data-from-the-store" class="hash-link" aria-label="Direct link to let-mapstatetoprops-reshape-the-data-from-the-store" title="Direct link to let-mapstatetoprops-reshape-the-data-from-the-store">​</a></h3><p><code>mapStateToProps</code> functions can, and should, do a lot more than just <code>return state.someSlice</code>. <strong>They have the responsibility of &quot;re-shaping&quot; store data as needed for that component.</strong> This may include returning a value as a specific prop name, combining pieces of data from different parts of the state tree, and transforming the store data in different ways.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-selector-functions-to-extract-and-transform-data">Use Selector Functions to Extract and Transform Data<a href="#use-selector-functions-to-extract-and-transform-data" class="hash-link" aria-label="Direct link to Use Selector Functions to Extract and Transform Data" title="Direct link to Use Selector Functions to Extract and Transform Data">​</a></h3><p>We highly encourage the use of &quot;selector&quot; functions to help encapsulate the process of extracting values from specific locations in the state tree. Memoized selector functions also play a key role in improving application performance (see the following sections in this page and the <a href="https://redux.js.org/recipes/computing-derived-data" target="_blank" rel="noopener noreferrer">Advanced Usage: Computing Derived Data</a> page for more details on why and how to use selectors.)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mapstatetoprops-functions-should-be-fast"><code>mapStateToProps</code> Functions Should Be Fast<a href="#mapstatetoprops-functions-should-be-fast" class="hash-link" aria-label="Direct link to mapstatetoprops-functions-should-be-fast" title="Direct link to mapstatetoprops-functions-should-be-fast">​</a></h3><p>Whenever the store changes, all of the <code>mapStateToProps</code> functions of all of the connected components will run. Because of this, your <code>mapStateToProps</code> functions should run as fast as possible. This also means that a slow <code>mapStateToProps</code> function can be a potential bottleneck for your application.</p><p>As part of the &quot;re-shaping data&quot; idea, <code>mapStateToProps</code> functions frequently need to transform data in various ways (such as filtering an array, mapping an array of IDs to their corresponding objects, or extracting plain JS values from Immutable.js objects). These transformations can often be expensive, both in terms of cost to execute the transformation, and whether the component re-renders as a result. If performance is a concern, ensure that these transformations are only run if the input values have changed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mapstatetoprops-functions-should-be-pure-and-synchronous"><code>mapStateToProps</code> Functions Should Be Pure and Synchronous<a href="#mapstatetoprops-functions-should-be-pure-and-synchronous" class="hash-link" aria-label="Direct link to mapstatetoprops-functions-should-be-pure-and-synchronous" title="Direct link to mapstatetoprops-functions-should-be-pure-and-synchronous">​</a></h3><p>Much like a Redux reducer, a <code>mapStateToProps</code> function should always be 100% pure and synchronous. It should only take <code>state</code> (and <code>ownProps</code>) as arguments, and return the data the component needs as props without mutating those arguments. It should <em>not</em> be used to trigger asynchronous behavior like AJAX calls for data fetching, and the functions should not be declared as <code>async</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mapstatetoprops-and-performance"><code>mapStateToProps</code> and Performance<a href="#mapstatetoprops-and-performance" class="hash-link" aria-label="Direct link to mapstatetoprops-and-performance" title="Direct link to mapstatetoprops-and-performance">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="return-values-determine-if-your-component-re-renders">Return Values Determine If Your Component Re-Renders<a href="#return-values-determine-if-your-component-re-renders" class="hash-link" aria-label="Direct link to Return Values Determine If Your Component Re-Renders" title="Direct link to Return Values Determine If Your Component Re-Renders">​</a></h3><p>React Redux internally implements the <code>shouldComponentUpdate</code> method such that the wrapper component re-renders precisely when the data your component needs has changed. By default, React Redux decides whether the contents of the object returned from <code>mapStateToProps</code> are different using <code>===</code> comparison (a &quot;shallow equality&quot; check) on each fields of the returned object. If any of the fields have changed, then your component will be re-rendered so it can receive the updated values as props. Note that returning a mutated object of the same reference is a common mistake that can result in your component not re-rendering when expected.</p><p>To summarize the behavior of the component wrapped by <code>connect</code> with <code>mapStateToProps</code> to extract data from the store:</p><table><thead><tr><th></th><th><code>(state) =&gt; stateProps</code></th><th><code>(state, ownProps) =&gt; stateProps</code></th></tr></thead><tbody><tr><td><code>mapStateToProps</code> runs when:</td><td>store <code>state</code> changes</td><td>store <code>state</code> changes <br> or <br>any field of <code>ownProps</code> is different</td></tr><tr><td>component re-renders when:</td><td>any field of <code>stateProps</code> is different</td><td>any field of <code>stateProps</code> is different <br> or <br> any field of <code>ownProps</code> is different</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="only-return-new-object-references-if-needed">Only Return New Object References If Needed<a href="#only-return-new-object-references-if-needed" class="hash-link" aria-label="Direct link to Only Return New Object References If Needed" title="Direct link to Only Return New Object References If Needed">​</a></h3><p>React Redux does shallow comparisons to see if the <code>mapStateToProps</code> results have changed. It’s easy to accidentally return new object or array references every time, which would cause your component to re-render even if the data is actually the same.</p><p>Many common operations result in new object or array references being created:</p><ul><li>Creating new arrays with <code>someArray.map()</code> or <code>someArray.filter()</code></li><li>Merging arrays with <code>array.concat</code></li><li>Selecting portion of an array with <code>array.slice</code></li><li>Copying values with <code>Object.assign</code></li><li>Copying values with the spread operator <code>{ ...oldState, ...newData }</code></li></ul><p>Put these operations in <a href="https://redux.js.org/recipes/computing-derived-data#creating-a-memoized-selector" target="_blank" rel="noopener noreferrer">memoized selector functions</a> to ensure that they only run if the input values have changed. This will also ensure that if the input values <em>haven&#x27;t</em> changed, <code>mapStateToProps</code> will still return the same result values as before, and <code>connect</code> can skip re-rendering.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="only-perform-expensive-operations-when-data-changes">Only Perform Expensive Operations When Data Changes<a href="#only-perform-expensive-operations-when-data-changes" class="hash-link" aria-label="Direct link to Only Perform Expensive Operations When Data Changes" title="Direct link to Only Perform Expensive Operations When Data Changes">​</a></h3><p>Transforming data can often be expensive (<em>and</em> usually results in new object references being created). In order for your <code>mapStateToProps</code> function to be as fast as possible, you should only re-run these complex transformations when the relevant data has changed.</p><p>There are a few ways to approach this:</p><ul><li>Some transformations could be calculated in an action creator or reducer, and the transformed data could be kept in the store</li><li>Transformations can also be done in a component&#x27;s <code>render()</code> method</li><li>If the transformation does need to be done in a <code>mapStateToProps</code> function, then we recommend using <a href="https://redux.js.org/recipes/computing-derived-data#creating-a-memoized-selector" target="_blank" rel="noopener noreferrer">memoized selector functions</a> to ensure the transformation is only run when the input values have changed.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="immutablejs-performance-concerns">Immutable.js Performance Concerns<a href="#immutablejs-performance-concerns" class="hash-link" aria-label="Direct link to Immutable.js Performance Concerns" title="Direct link to Immutable.js Performance Concerns">​</a></h4><p>Immutable.js author Lee Byron on Twitter <a href="https://twitter.com/leeb/status/746733697093668864?lang=en" target="_blank" rel="noopener noreferrer">explicitly advises avoiding <code>toJS</code> when performance is a concern</a>:</p><blockquote><p>Perf tip for #immutablejs: avoid .toJS() .toObject() and .toArray() all slow full-copy operations which render structural sharing useless.</p></blockquote><p>There&#x27;s several other performance concerns to take into consideration with Immutable.js - see the list of links at the end of this page for more information.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="behavior-and-gotchas">Behavior and Gotchas<a href="#behavior-and-gotchas" class="hash-link" aria-label="Direct link to Behavior and Gotchas" title="Direct link to Behavior and Gotchas">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mapstatetoprops-will-not-run-if-the-store-state-is-the-same"><code>mapStateToProps</code> Will Not Run if the Store State is the Same<a href="#mapstatetoprops-will-not-run-if-the-store-state-is-the-same" class="hash-link" aria-label="Direct link to mapstatetoprops-will-not-run-if-the-store-state-is-the-same" title="Direct link to mapstatetoprops-will-not-run-if-the-store-state-is-the-same">​</a></h3><p>The wrapper component generated by <code>connect</code> subscribes to the Redux store. Every time an action is dispatched, it calls <code>store.getState()</code> and checks to see if <code>lastState === currentState</code>. If the two state values are identical by reference, then it will <em>not</em> re-run your <code>mapStateToProps</code> function, because it assumes that the rest of the store state hasn&#x27;t changed either.</p><p>The Redux <code>combineReducers</code> utility function tries to optimize for this. If none of the slice reducers returned a new value, then <code>combineReducers</code> returns the old state object instead of a new one. This means that mutation in a reducer can lead to the root state object not being updated, and thus the UI won&#x27;t re-render.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-number-of-declared-arguments-affects-behavior">The Number of Declared Arguments Affects Behavior<a href="#the-number-of-declared-arguments-affects-behavior" class="hash-link" aria-label="Direct link to The Number of Declared Arguments Affects Behavior" title="Direct link to The Number of Declared Arguments Affects Behavior">​</a></h3><p>With just <code>(state)</code>, the function runs whenever the root store state object is different. With <code>(state, ownProps)</code>, it runs any time the store state is different and ALSO whenever the wrapper props have changed.</p><p>This means that <strong>you should not add the <code>ownProps</code> argument unless you actually need to use it</strong>, or your <code>mapStateToProps</code> function will run more often than it needs to.</p><p>There are some edge cases around this behavior. <strong>The number of mandatory arguments determines whether <code>mapStateToProps</code> will receive <code>ownProps</code></strong>.</p><p>If the formal definition of the function contains one mandatory parameter, <code>mapStateToProps</code> will <em>not</em> receive <code>ownProps</code>:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token number" style="color:#AE81FF">1</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// undefined</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#E6D874">mapStateToProps</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> ownProps </span><span class="token parameter operator" style="color:#F8F8F2">=</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#F8F8F2">{</span><span class="token parameter punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">ownProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// {}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It <em>will</em> receive <code>ownProps</code> when the formal definition of the function contains zero or two mandatory parameters:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> ownProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">ownProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// ownProps</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token number" style="color:#AE81FF">0</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token number" style="color:#AE81FF">1</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// ownProps</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter spread operator" style="color:#F8F8F2">...</span><span class="token parameter">args</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token number" style="color:#AE81FF">0</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">log</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">args</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token number" style="color:#AE81FF">1</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// ownProps</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="links-and-references">Links and References<a href="#links-and-references" class="hash-link" aria-label="Direct link to Links and References" title="Direct link to Links and References">​</a></h2><p><strong>Tutorials</strong></p><ul><li><a href="https://blog.isquaredsoftware.com/2017/01/practical-redux-part-6-connected-lists-forms-and-performance/" target="_blank" rel="noopener noreferrer">Practical Redux Series, Part 6: Connected Lists, Forms, and Performance</a></li><li><a href="https://blog.isquaredsoftware.com/2017/12/idiomatic-redux-using-reselect-selectors/" target="_blank" rel="noopener noreferrer">Idiomatic Redux: Using Reselect Selectors for Encapsulation and Performance</a></li></ul><p><strong>Performance</strong></p><ul><li><a href="https://twitter.com/leeb/status/746733697093668864" target="_blank" rel="noopener noreferrer">Lee Byron&#x27;s Tweet Suggesting to avoid <code>toJS</code>, <code>toArray</code> and <code>toObject</code> for Performance</a></li><li><a href="https://rangle.io/blog/react-and-redux-performance-with-reselect/" target="_blank" rel="noopener noreferrer">Improving React and Redux performance with Reselect</a></li><li><a href="https://github.com/markerikson/react-redux-links/blob/master/react-performance.md#immutable-data" target="_blank" rel="noopener noreferrer">Immutable data performance links</a></li></ul><p><strong>Q&amp;A</strong></p><ul><li><a href="https://redux.js.org/faq/react-redux#why-is-my-component-re-rendering-too-often" target="_blank" rel="noopener noreferrer">Why Is My Component Re-Rendering Too Often?</a></li><li><a href="https://redux.js.org/faq/react-redux#why-isnt-my-component-re-rendering-or-my-mapstatetoprops-running" target="_blank" rel="noopener noreferrer">Why isn&#x27;t my component re-rendering, or my mapStateToProps running</a></li><li><a href="https://redux.js.org/faq/react-redux#how-can-i-speed-up-my-mapstatetoprops" target="_blank" rel="noopener noreferrer">How can I speed up my mapStateToProps?</a></li><li><a href="https://redux.js.org/faq/react-redux#should-i-only-connect-my-top-component-or-can-i-connect-multiple-components-in-my-tree" target="_blank" rel="noopener noreferrer">Should I only connect my top component, or can I connect multiple components in my tree?</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/reduxjs/react-redux/edit/master/website/../docs/using-react-redux/connect-extracting-data-with-mapStateToProps.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-01-23T08:22:08.000Z">Jan 23, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/using-react-redux/usage-with-typescript"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Usage with TypeScript</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/using-react-redux/connect-mapdispatch"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Connect: Dispatching Actions with mapDispatchToProps</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#defining-mapstatetoprops" class="table-of-contents__link toc-highlight">Defining <code>mapStateToProps</code></a><ul><li><a href="#arguments" class="table-of-contents__link toc-highlight">Arguments</a></li><li><a href="#return" class="table-of-contents__link toc-highlight">Return</a></li></ul></li><li><a href="#usage-guidelines" class="table-of-contents__link toc-highlight">Usage Guidelines</a><ul><li><a href="#let-mapstatetoprops-reshape-the-data-from-the-store" class="table-of-contents__link toc-highlight">Let <code>mapStateToProps</code> Reshape the Data from the Store</a></li><li><a href="#use-selector-functions-to-extract-and-transform-data" class="table-of-contents__link toc-highlight">Use Selector Functions to Extract and Transform Data</a></li><li><a href="#mapstatetoprops-functions-should-be-fast" class="table-of-contents__link toc-highlight"><code>mapStateToProps</code> Functions Should Be Fast</a></li><li><a href="#mapstatetoprops-functions-should-be-pure-and-synchronous" class="table-of-contents__link toc-highlight"><code>mapStateToProps</code> Functions Should Be Pure and Synchronous</a></li></ul></li><li><a href="#mapstatetoprops-and-performance" class="table-of-contents__link toc-highlight"><code>mapStateToProps</code> and Performance</a><ul><li><a href="#return-values-determine-if-your-component-re-renders" class="table-of-contents__link toc-highlight">Return Values Determine If Your Component Re-Renders</a></li><li><a href="#only-return-new-object-references-if-needed" class="table-of-contents__link toc-highlight">Only Return New Object References If Needed</a></li><li><a href="#only-perform-expensive-operations-when-data-changes" class="table-of-contents__link toc-highlight">Only Perform Expensive Operations When Data Changes</a></li></ul></li><li><a href="#behavior-and-gotchas" class="table-of-contents__link toc-highlight">Behavior and Gotchas</a><ul><li><a href="#mapstatetoprops-will-not-run-if-the-store-state-is-the-same" class="table-of-contents__link toc-highlight"><code>mapStateToProps</code> Will Not Run if the Store State is the Same</a></li><li><a href="#the-number-of-declared-arguments-affects-behavior" class="table-of-contents__link toc-highlight">The Number of Declared Arguments Affects Behavior</a></li></ul></li><li><a href="#links-and-references" class="table-of-contents__link toc-highlight">Links and References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/introduction/getting-started">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/using-react-redux/connect-mapstate">Using React Redux</a></li><li class="footer__item"><a class="footer__link-item" href="/api/hooks">API Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/troubleshooting">Guides</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/react-redux" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/0ZcbPKXt5bZ6au5t" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/reduxjs/react-redux" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item">
                <a class="github-button" href="https://github.com/reduxjs/react-redux" data-icon="octicon-star" data-count-href="/reduxjs/react-redux/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">
                  Star
                </a>
              </li><li class="footer__item">
                <a href="https://www.netlify.com">
                  <img src="https://www.netlify.com/img/global/badges/netlify-light.svg" alt="Deploys by Netlify">
                </a>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/redux_white.svg" alt="Redux Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/redux_white.svg" alt="Redux Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright (c) 2015-present Dan Abramov and the Redux documentation authors.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5fc46a49.js"></script>
<script src="/assets/js/main.03270078.js"></script>
</body>
</html>
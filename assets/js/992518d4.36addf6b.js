"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[909],{592:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"troubleshooting","title":"Troubleshooting","description":"&nbsp;","source":"@site/../docs/troubleshooting.md","sourceDirName":".","slug":"/troubleshooting","permalink":"/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/reduxjs/react-redux/edit/master/website/../docs/troubleshooting.md","tags":[],"version":"current","lastUpdatedAt":1750482096000,"frontMatter":{"id":"troubleshooting","title":"Troubleshooting","sidebar_label":"Troubleshooting","hide_title":true},"sidebar":"docs","previous":{"title":"batch()","permalink":"/api/batch"}}');var s=n(4848),i=n(8453);const r={id:"troubleshooting",title:"Troubleshooting",sidebar_label:"Troubleshooting",hide_title:!0},a=void 0,d={},c=[{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"My views aren\u2019t updating!",id:"my-views-arent-updating",level:3},{value:"Could not find &quot;store&quot; in either the context or props",id:"could-not-find-store-in-either-the-context-or-props",level:3},{value:"Invariant Violation: addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you\u2019re trying to add a ref to a component that doesn\u2019t have an owner",id:"invariant-violation-addcomponentasrefto-only-a-reactowner-can-have-refs-this-usually-means-that-youre-trying-to-add-a-ref-to-a-component-that-doesnt-have-an-owner",level:3},{value:"I&#39;m getting a warning about useLayoutEffect in my unit tests",id:"im-getting-a-warning-about-uselayouteffect-in-my-unit-tests",level:3}];function l(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"\xa0"}),"\n",(0,s.jsx)(t.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"https://discord.gg/0ZcbPKXt5bZ6au5t",children:"#redux channel"})})," of the ",(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"http://www.reactiflux.com",children:"Reactiflux Discord community"})})," is our official resource for all questions related to learning and using Redux. Reactiflux is a great place to hang out, ask questions, and learn - come join us!"]}),"\n",(0,s.jsxs)(t.p,{children:["You can also ask questions on ",(0,s.jsx)(t.a,{href:"https://stackoverflow.com",children:"Stack Overflow"})," using the ",(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"https://stackoverflow.com/questions/tagged/redux",children:"#redux tag"})}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"my-views-arent-updating",children:"My views aren\u2019t updating!"}),"\n",(0,s.jsx)(t.p,{children:"In short,"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Reducers should never mutate state, they must return new objects, or React Redux won\u2019t see the updates."}),"\n",(0,s.jsxs)(t.li,{children:["Make sure you are actually ",(0,s.jsx)(t.em,{children:"dispatching"})," actions. For example, if you have an action creator like ",(0,s.jsx)(t.code,{children:"addTodo"}),", just calling the imported ",(0,s.jsx)(t.code,{children:"addTodo()"})," function by itself won't do anything because it just ",(0,s.jsx)(t.em,{children:"returns"})," an action, but does not ",(0,s.jsx)(t.em,{children:"dispatch"})," it. You either need to call ",(0,s.jsx)(t.code,{children:"dispatch(addTodo())"})," (if using the hooks API) or ",(0,s.jsx)(t.code,{children:"props.addTodo()"})," (if using ",(0,s.jsx)(t.code,{children:"connect"})," + ",(0,s.jsx)(t.code,{children:"mapDispatch"}),")."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"could-not-find-store-in-either-the-context-or-props",children:'Could not find "store" in either the context or props'}),"\n",(0,s.jsx)(t.p,{children:"If you have context issues,"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://medium.com/@dan_abramov/two-weird-tricks-that-fix-react-7cf9bbdef375",children:"Make sure you don\u2019t have a duplicate instance of React"})," on the page."]}),"\n",(0,s.jsx)(t.li,{children:"Make sure you don't have multiple instances/copies of React Redux in your project."}),"\n",(0,s.jsxs)(t.li,{children:["Make sure you didn\u2019t forget to wrap your root or some other ancestor component in ",(0,s.jsx)(t.a,{href:"#provider-store",children:(0,s.jsx)(t.code,{children:"<Provider>"})}),"."]}),"\n",(0,s.jsx)(t.li,{children:"Make sure you\u2019re running the latest versions of React and React Redux."}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"invariant-violation-addcomponentasrefto-only-a-reactowner-can-have-refs-this-usually-means-that-youre-trying-to-add-a-ref-to-a-component-that-doesnt-have-an-owner",children:"Invariant Violation: addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you\u2019re trying to add a ref to a component that doesn\u2019t have an owner"}),"\n",(0,s.jsxs)(t.p,{children:["If you\u2019re using React for web, this usually means you have a ",(0,s.jsx)(t.a,{href:"https://medium.com/@dan_abramov/two-weird-tricks-that-fix-react-7cf9bbdef375",children:"duplicate React"}),". Follow the linked instructions to fix this."]}),"\n",(0,s.jsx)(t.h3,{id:"im-getting-a-warning-about-uselayouteffect-in-my-unit-tests",children:"I'm getting a warning about useLayoutEffect in my unit tests"}),"\n",(0,s.jsxs)(t.p,{children:["ReactDOM emits this warning if ",(0,s.jsx)(t.code,{children:"useLayoutEffect"}),' is used "on the server". React Redux tries to get around the issue by detecting whether it is running within a browser context. Jest, by default, defines enough of the browser environment that React Redux thinks it\'s running in a browser, causing these warnings.']}),"\n",(0,s.jsxs)(t.p,{children:["You can prevent the warning by setting the ",(0,s.jsx)(t.code,{children:"@jest-environment"})," for a single test file:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-jsx",children:"// my.test.jsx\n/**\n * @jest-environment node\n */\n"})}),"\n",(0,s.jsx)(t.p,{children:"Or by setting it globally:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'// package.json\n{\n  "name": "my-project",\n  "jest": {\n    "testEnvironment": "node"\n  }\n}\n'})}),"\n",(0,s.jsxs)(t.p,{children:["See ",(0,s.jsx)(t.a,{href:"https://github.com/facebook/react/issues/14927#issuecomment-490426131",children:"https://github.com/facebook/react/issues/14927#issuecomment-490426131"})]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);